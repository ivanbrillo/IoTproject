2025-05-26 15:47:14.376 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 15:47:14.387 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 15:47:14.389 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 15:47:14.392 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 15:47:15.165 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 15:47:15.165 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 15:47:15.169 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 15:47:15.172 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 15:47:15.174 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 15:47:15.174 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 15:47:15.174 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 15:47:15.174 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 15:47:15.318 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 15:47:15.318 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 15:47:15.319 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 15:47:15.319 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 15:47:15.319 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 15:47:15.319 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 15:47:15.320 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 15:47:15.320 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 15:47:15.320 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-05-26 15:47:15.320 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-05-26 15:47:29.004 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:30:29.434 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:30:29.441 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:30:29.442 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:30:29.444 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:30:30.044 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:30:30.044 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:30:30.045 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:30:30.046 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:30:30.047 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:30:30.047 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:30:30.047 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:30:30.047 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:30:30.127 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:30:30.160 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:30:30.162 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:30:30.169 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:30:30.169 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:30:30.169 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:30:30.170 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:30:30.170 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:30:30.170 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:30:30.188 [main] ERROR com.pi.CoapClientApplication - Application failed to start
java.lang.NullPointerException: null
	at com.pi.CoapClientApplication.initialize(CoapClientApplication.java:61)
	at com.pi.CoapClientApplication.run(CoapClientApplication.java:27)
	at com.pi.CoapClientApplication.main(CoapClientApplication.java:22)
2025-05-26 16:30:30.189 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-05-26 16:30:30.189 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-05-26 16:30:30.189 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-05-26 16:30:30.204 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-05-26 16:30:30.204 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-05-26 16:30:30.205 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-05-26 16:30:30.205 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-05-26 16:30:30.205 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-05-26 16:30:30.205 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-05-26 16:30:30.205 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-05-26 16:30:30.205 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-05-26 16:30:30.206 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-05-26 16:30:30.206 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:30:30.209 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-05-26 16:30:30.209 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-05-26 16:30:30.209 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-05-26 16:30:30.210 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:31:14.624 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:31:14.634 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:31:14.634 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:31:14.639 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:31:15.419 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:31:15.420 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:31:15.422 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:31:15.423 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:31:15.425 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:31:15.426 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:31:15.426 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:31:15.426 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:31:15.625 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:31:15.625 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:31:15.625 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:31:15.626 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:31:15.626 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:31:15.626 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:31:15.626 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:31:15.626 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:31:15.626 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:31:15.633 [main] ERROR com.pi.CoapClientApplication - Application failed to start
java.lang.NullPointerException: null
	at com.pi.CoapClientApplication.initialize(CoapClientApplication.java:61)
	at com.pi.CoapClientApplication.run(CoapClientApplication.java:27)
	at com.pi.CoapClientApplication.main(CoapClientApplication.java:22)
2025-05-26 16:31:15.637 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-05-26 16:31:15.642 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-05-26 16:31:15.642 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-05-26 16:31:15.642 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-05-26 16:31:15.642 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-05-26 16:31:15.642 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-05-26 16:31:15.643 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-05-26 16:31:15.643 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-05-26 16:31:15.643 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-05-26 16:31:15.643 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-05-26 16:31:15.643 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-05-26 16:31:15.643 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-05-26 16:31:15.643 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:31:15.650 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-05-26 16:31:15.650 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-05-26 16:31:15.669 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-05-26 16:31:15.679 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:31:47.542 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:31:47.548 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:31:47.549 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:31:47.550 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:31:48.194 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:31:48.195 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:31:48.196 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:31:48.196 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:31:48.197 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:31:48.197 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:31:48.197 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:31:48.197 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:31:48.293 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:31:48.293 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:31:48.305 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:31:48.307 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:31:48.308 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:31:48.309 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:31:48.316 [Thread-1] WARN  com.pi.CoapObserverManager - Error message received for battery_soc: TooManyObservers
2025-05-26 16:31:48.317 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:31:48.318 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:31:48.318 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:31:48.322 [main] ERROR com.pi.CoapClientApplication - Application failed to start
java.lang.NullPointerException: null
	at com.pi.CoapClientApplication.initialize(CoapClientApplication.java:61)
	at com.pi.CoapClientApplication.run(CoapClientApplication.java:27)
	at com.pi.CoapClientApplication.main(CoapClientApplication.java:22)
2025-05-26 16:31:48.324 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-05-26 16:31:48.324 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-05-26 16:31:48.324 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-05-26 16:31:48.328 [Thread-1] WARN  com.pi.CoapObserverManager - Error message received for power: TooManyObservers
2025-05-26 16:31:48.328 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-05-26 16:31:48.329 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-05-26 16:31:48.336 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-05-26 16:31:48.363 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-05-26 16:31:48.363 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-05-26 16:31:48.363 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-05-26 16:31:48.363 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-05-26 16:31:48.363 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-05-26 16:31:48.363 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-05-26 16:31:48.368 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=-1, battery=10}
2025-05-26 16:31:48.373 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-05-26 16:31:48.373 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-05-26 16:31:48.374 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-05-26 16:31:48.378 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:33:52.294 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:33:52.299 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:33:52.300 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:33:52.302 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:33:52.725 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:33:52.726 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:33:52.727 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:33:52.727 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:33:52.728 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:33:52.728 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:33:52.728 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:33:52.728 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:33:52.787 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:33:52.787 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:33:52.788 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:33:52.788 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:33:52.789 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:33:52.789 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:33:52.797 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:33:52.798 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:33:52.798 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:33:52.802 [main] ERROR com.pi.CoapClientApplication - Application failed to start
java.lang.NullPointerException: null
	at com.pi.CoapClientApplication.initialize(CoapClientApplication.java:61)
	at com.pi.CoapClientApplication.run(CoapClientApplication.java:27)
	at com.pi.CoapClientApplication.main(CoapClientApplication.java:22)
2025-05-26 16:33:52.804 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-05-26 16:33:52.805 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-05-26 16:33:52.805 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-05-26 16:33:52.805 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-05-26 16:33:52.805 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-05-26 16:33:52.806 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-05-26 16:33:52.806 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-05-26 16:33:52.806 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-05-26 16:33:52.806 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-05-26 16:33:52.806 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-05-26 16:33:52.806 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-05-26 16:33:52.806 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-05-26 16:33:52.806 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:33:52.812 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-05-26 16:33:52.813 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-05-26 16:33:52.813 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-05-26 16:33:52.814 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:35:16.563 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:35:16.568 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:35:16.568 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:35:16.570 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:35:16.996 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:35:16.996 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:35:16.997 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:35:16.998 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:35:16.999 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:35:16.999 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:35:16.999 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:35:16.999 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:35:17.064 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:35:17.064 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:35:17.065 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:35:17.066 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:35:17.067 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:35:17.070 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:35:17.074 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:35:17.074 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:35:17.074 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:35:17.077 [main] ERROR com.pi.CoapClientApplication - Application failed to start
java.lang.NullPointerException: null
	at com.pi.CoapClientApplication.initialize(CoapClientApplication.java:61)
	at com.pi.CoapClientApplication.run(CoapClientApplication.java:27)
	at com.pi.CoapClientApplication.main(CoapClientApplication.java:22)
2025-05-26 16:35:17.077 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-05-26 16:35:17.077 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-05-26 16:35:17.077 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-05-26 16:35:17.078 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-05-26 16:35:17.081 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-05-26 16:35:17.082 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-05-26 16:35:17.082 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-05-26 16:35:17.083 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-05-26 16:35:17.083 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-05-26 16:35:17.083 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-05-26 16:35:17.094 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-05-26 16:35:17.096 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-05-26 16:35:17.097 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:35:17.107 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-05-26 16:35:17.107 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-05-26 16:35:17.109 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-05-26 16:35:17.109 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:38:16.805 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:38:16.808 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:38:16.809 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:38:16.809 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:38:17.199 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:38:17.199 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:38:17.200 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:38:17.200 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:38:17.208 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:38:17.208 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:38:17.208 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:38:17.208 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:38:17.301 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:38:17.301 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:38:17.302 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:38:17.305 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:38:17.305 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:38:17.305 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:38:17.311 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:38:17.311 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:38:17.311 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:38:17.334 [main] ERROR com.pi.CoapClientApplication - Application failed to start
java.lang.NullPointerException: null
	at com.pi.CoapClientApplication.initialize(CoapClientApplication.java:61)
	at com.pi.CoapClientApplication.run(CoapClientApplication.java:27)
	at com.pi.CoapClientApplication.main(CoapClientApplication.java:22)
2025-05-26 16:38:17.337 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-05-26 16:38:17.337 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-05-26 16:38:17.341 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-05-26 16:38:17.351 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-05-26 16:38:17.351 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-05-26 16:38:17.352 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-05-26 16:38:17.358 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-05-26 16:38:17.359 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-05-26 16:38:17.359 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-05-26 16:38:17.359 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-05-26 16:38:17.359 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-05-26 16:38:17.359 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-05-26 16:38:17.359 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=-1, battery=2}
2025-05-26 16:38:17.361 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-05-26 16:38:17.361 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-05-26 16:38:17.361 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-05-26 16:38:17.364 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:39:37.222 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:39:37.226 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:39:37.226 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:39:37.227 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:39:37.602 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:39:37.602 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:39:37.603 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:39:37.603 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:39:37.605 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:39:37.605 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:39:37.605 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:39:37.605 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:39:37.665 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:39:37.667 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:39:37.669 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:39:37.670 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:39:37.670 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:39:37.670 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:39:37.670 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:39:37.670 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:39:37.670 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:39:37.674 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-05-26 16:39:37.674 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-05-26 16:39:37.674 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-05-26 16:39:37.742 [Thread-1] WARN  com.pi.CoapObserverManager - Error message received for power: TooManyObservers
2025-05-26 16:39:37.805 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:39:37.806 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=7,59
2025-05-26 16:39:37.815 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:39:39.864 [Thread-1] WARN  com.pi.CoapObserverManager - Error message received for battery_soc: TooManyObservers
2025-05-26 16:39:40.381 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v2): Light=249.92, Temp=19.893 (Floor 1)
2025-05-26 16:39:49.695 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v3): Light=267.96, Temp=19.91 (Floor 1)
2025-05-26 16:39:59.837 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v4): Light=253.96, Temp=20.225 (Floor 1)
2025-05-26 16:40:07.683 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:40:07.683 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=8,30
2025-05-26 16:40:07.729 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:40:09.844 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v5): Light=253.36, Temp=20.552 (Floor 1)
2025-05-26 16:40:14.928 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:40:41.907 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:40:41.912 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:40:41.912 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:40:41.916 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:40:42.266 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:40:42.266 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:40:42.267 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:40:42.268 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:40:42.269 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:40:42.269 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:40:42.269 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:40:42.270 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:40:42.360 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:40:42.360 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:40:42.361 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:40:42.361 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:40:42.361 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:40:42.361 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:40:42.361 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:40:42.361 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:40:42.361 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:40:42.369 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-05-26 16:40:42.369 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-05-26 16:40:42.369 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-05-26 16:40:42.443 [Thread-1] WARN  com.pi.CoapObserverManager - Error message received for power: TooManyObservers
2025-05-26 16:40:42.446 [Thread-1] WARN  com.pi.CoapObserverManager - Error message received for battery_soc: TooManyObservers
2025-05-26 16:40:42.451 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:40:42.452 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=8,51
2025-05-26 16:40:42.569 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v9): Light=256.48, Temp=20.578 (Floor 1)
2025-05-26 16:40:42.571 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:40:49.932 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v11): Light=257.96, Temp=20.229 (Floor 1)
2025-05-26 16:40:59.899 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v13): Light=240.64, Temp=19.876 (Floor 1)
2025-05-26 16:41:09.902 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v15): Light=224.08, Temp=19.61 (Floor 1)
2025-05-26 16:41:12.369 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:41:12.370 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=7,08
2025-05-26 16:41:12.416 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:41:15.994 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:41:41.257 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:41:41.272 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:41:41.274 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:41:41.278 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:41:41.848 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:41:41.848 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:41:41.849 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:41:41.850 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:41:41.853 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:41:41.853 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:41:41.853 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:41:41.853 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:41:41.976 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:41:41.984 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:41:41.989 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:41:41.995 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:41:41.996 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:41:41.996 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:41:41.996 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:41:41.996 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:41:41.996 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:41:42.000 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-05-26 16:41:42.029 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-05-26 16:41:42.034 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-05-26 16:41:42.149 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-05-26 16:41:42.176 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=0.0, Reactive=0.0
2025-05-26 16:41:42.184 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:41:42.185 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=6,82
2025-05-26 16:41:42.204 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:41:43.476 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=2.493, Reactive=0.11
2025-05-26 16:41:43.520 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v1): SOC=0.0
2025-05-26 16:41:49.346 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=185.36, Temp=21.548 (Floor 1)
2025-05-26 16:41:53.705 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=1.927, Reactive=0.091
2025-05-26 16:41:53.717 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v2): SOC=0.0
2025-05-26 16:41:53.738 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v1): Light=195.32, Temp=21.074 (Floor 1)
2025-05-26 16:42:03.690 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v2): Light=224.2, Temp=20.837 (Floor 1)
2025-05-26 16:42:03.705 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v3): Active=3.171, Reactive=0.068
2025-05-26 16:42:03.717 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v3): SOC=0.0
2025-05-26 16:42:12.006 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:42:12.007 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=6,80
2025-05-26 16:42:12.012 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:42:13.766 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v3): Light=239.64, Temp=20.798 (Floor 1)
2025-05-26 16:42:13.812 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v4): Active=1.993, Reactive=0.117
2025-05-26 16:42:13.852 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v4): SOC=0.0
2025-05-26 16:42:23.773 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v5): Active=1.788, Reactive=0.12
2025-05-26 16:42:23.792 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v5): SOC=0.0
2025-05-26 16:42:23.870 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v4): Light=234.48, Temp=20.434 (Floor 1)
2025-05-26 16:42:33.776 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v6): Active=4.765, Reactive=0.279
2025-05-26 16:42:33.805 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v6): SOC=0.0
2025-05-26 16:42:33.864 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v5): Light=249.72, Temp=20.437 (Floor 1)
2025-05-26 16:42:42.010 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:42:42.011 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=8,61
2025-05-26 16:42:42.016 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:42:43.919 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v6): Light=241.72, Temp=20.59 (Floor 1)
2025-05-26 16:42:43.988 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v7): Active=2.654, Reactive=0.177
2025-05-26 16:42:44.038 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v7): SOC=0.0
2025-05-26 16:42:53.863 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v7): Light=240.72, Temp=20.211 (Floor 1)
2025-05-26 16:42:53.947 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v8): Active=2.288, Reactive=0.225
2025-05-26 16:42:54.021 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v8): SOC=0.0
2025-05-26 16:43:03.930 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v8): Light=247.16, Temp=20.266 (Floor 1)
2025-05-26 16:43:04.011 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v9): Active=1.969, Reactive=0.22
2025-05-26 16:43:04.086 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v9): SOC=0.0
2025-05-26 16:43:12.013 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:43:12.025 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=8,79
2025-05-26 16:43:12.040 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:43:13.936 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v10): Active=1.863, Reactive=0.368
2025-05-26 16:43:13.987 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v10): SOC=0.0
2025-05-26 16:43:14.105 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v9): Light=244.44, Temp=20.17 (Floor 1)
2025-05-26 16:43:16.859 [main] INFO  com.pi.UserInterface - User requested Battery command for floor 1: setpoint=5.23
2025-05-26 16:43:16.860 [main] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=5.23
2025-05-26 16:43:16.869 [main] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 2.04, Text: {"setpoint":5.23}, Success: true
2025-05-26 16:43:23.896 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v10): Light=259.52, Temp=20.517 (Floor 1)
2025-05-26 16:43:23.908 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v11): Active=1.538, Reactive=0.195
2025-05-26 16:43:23.958 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v11): SOC=1.0
2025-05-26 16:43:25.033 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-05-26 16:43:25.033 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-05-26 16:43:25.033 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-05-26 16:43:25.034 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-05-26 16:43:25.034 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-05-26 16:43:25.034 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-05-26 16:43:25.034 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-05-26 16:43:25.034 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-05-26 16:43:25.034 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-05-26 16:43:25.034 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-05-26 16:43:25.034 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-05-26 16:43:25.034 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-05-26 16:43:25.034 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=10, power=11, battery=11}
2025-05-26 16:43:25.048 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-05-26 16:43:25.048 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-05-26 16:43:25.049 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-05-26 16:43:25.049 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-05-26 16:43:25.050 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-05-26 16:43:25.051 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:45:09.005 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:45:09.013 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:45:09.013 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:45:09.014 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:45:09.392 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:45:09.393 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:45:09.394 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:45:09.394 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:45:09.396 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:45:09.396 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:45:09.396 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:45:09.396 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:45:09.534 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:45:09.535 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:45:09.535 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:45:09.536 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:45:09.539 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:45:09.539 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:45:09.545 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:45:09.545 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:45:09.545 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:45:09.555 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-05-26 16:45:09.556 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-05-26 16:45:09.557 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-05-26 16:45:09.599 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v13): SOC=11.0
2025-05-26 16:45:09.635 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v12): Light=251.64, Temp=20.094 (Floor 1)
2025-05-26 16:45:09.642 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:45:09.645 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=2,41
2025-05-26 16:45:09.673 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v13): Active=2.493, Reactive=0.11
2025-05-26 16:45:09.699 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 4.00, Text: {"error_code":"INVALID_SETPOINT"}, Success: false
2025-05-26 16:45:14.064 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v13): Light=240.2, Temp=19.962 (Floor 1)
2025-05-26 16:45:14.076 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v14): Active=1.927, Reactive=0.091
2025-05-26 16:45:14.085 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v14): SOC=12.0
2025-05-26 16:45:20.502 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-05-26 16:46:21.282 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-05-26 16:46:21.287 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:46:21.288 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-05-26 16:46:21.288 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-05-26 16:46:21.664 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-05-26 16:46:21.665 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-05-26 16:46:21.665 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-05-26 16:46:21.666 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-05-26 16:46:21.667 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-05-26 16:46:21.667 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-05-26 16:46:21.667 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-05-26 16:46:21.667 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-05-26 16:46:21.724 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-05-26 16:46:21.726 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-05-26 16:46:21.726 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-05-26 16:46:21.726 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-05-26 16:46:21.726 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 1 floors
2025-05-26 16:46:21.727 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-05-26 16:46:21.729 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-05-26 16:46:21.729 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-05-26 16:46:21.729 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-05-26 16:46:21.736 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-05-26 16:46:21.736 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-05-26 16:46:21.736 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-05-26 16:46:21.761 [Thread-1] WARN  com.pi.CoapObserverManager - Error message received for battery_soc: TooManyObservers
2025-05-26 16:46:21.826 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:46:21.831 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=3.44
2025-05-26 16:46:21.840 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 2.04, Text: {"setpoint":3.44}, Success: true
2025-05-26 16:46:23.995 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v20): Light=275.6, Temp=19.718 (Floor 1)
2025-05-26 16:46:24.128 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v22): Light=249.04, Temp=20.008 (Floor 1)
2025-05-26 16:46:24.152 [Thread-1] WARN  com.pi.CoapObserverManager - Error message received for power: TooManyObservers
2025-05-26 16:46:34.320 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v24): Light=231.04, Temp=20.338 (Floor 1)
2025-05-26 16:46:44.321 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v26): Light=216.64, Temp=20.708 (Floor 1)
2025-05-26 16:46:51.737 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:46:51.738 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=1.04
2025-05-26 16:46:51.788 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 2.04, Text: {"setpoint":1.04}, Success: true
2025-05-26 16:46:54.298 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v28): Light=218.04, Temp=20.18 (Floor 1)
2025-05-26 16:47:04.277 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v30): Light=228.52, Temp=19.821 (Floor 1)
2025-05-26 16:47:14.196 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v32): Light=227.56, Temp=19.476 (Floor 1)
2025-05-26 16:47:21.738 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:47:21.739 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=2.39
2025-05-26 16:47:21.789 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 2.04, Text: {"setpoint":2.39}, Success: true
2025-05-26 16:47:24.330 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v34): Light=256.56, Temp=19.286 (Floor 1)
2025-05-26 16:47:34.290 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v36): Light=257.28, Temp=19.554 (Floor 1)
2025-05-26 16:47:44.353 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v38): Light=277.28, Temp=19.951 (Floor 1)
2025-05-26 16:47:51.736 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-05-26 16:47:51.736 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 1: setpoint=1.72
2025-05-26 16:47:51.781 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 1) Command Response - Code: 2.04, Text: {"setpoint":1.72}, Success: true
2025-05-26 16:47:54.346 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v40): Light=283.52, Temp=19.838 (Floor 1)
2025-05-26 16:47:59.420 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
