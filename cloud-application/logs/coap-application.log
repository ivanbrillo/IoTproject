2025-06-01 08:45:01.527 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 08:45:01.536 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:45:01.537 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 08:45:01.538 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 08:45:02.320 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 08:45:02.320 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 08:45:02.321 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 08:45:02.322 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 08:45:02.323 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:45:02.324 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 08:45:02.324 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 08:45:02.324 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 08:45:02.451 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 08:45:02.455 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 08:45:02.457 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 08:45:02.457 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 08:45:02.465 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 08:45:02.489 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 08:45:02.489 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 08:45:02.490 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 08:45:02.490 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 08:45:02.490 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 08:45:02.492 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 08:45:02.492 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 08:45:02.492 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 08:45:02.662 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=1.993, Reactive=0.117
2025-06-01 08:45:02.728 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 08:45:02.777 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=1.993, Reactive=0.117
2025-06-01 08:45:05.716 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=168.0, Temp=21.442 (Floor 1)
2025-06-01 08:45:06.106 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=1.788, Reactive=0.12
2025-06-01 08:45:16.013 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v1): Light=184.16, Temp=21.335 (Floor 1)
2025-06-01 08:45:16.077 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v3): Active=4.765, Reactive=0.279
2025-06-01 08:45:26.100 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v4): Active=2.654, Reactive=0.177
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-06-01 08:45:30.590 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-06-01 08:45:30.590 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=1, power=4, battery=0}
2025-06-01 08:45:30.592 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-06-01 08:45:30.592 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-06-01 08:45:30.593 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-06-01 08:45:30.593 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-06-01 08:45:30.594 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-06-01 08:45:30.599 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 08:46:54.596 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 08:46:54.601 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:46:54.601 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 08:46:54.602 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 08:46:54.965 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 08:46:54.966 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 08:46:54.967 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 08:46:54.967 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 08:46:54.969 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:46:54.969 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 08:46:54.969 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 08:46:54.969 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 08:46:55.025 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 08:46:55.026 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 08:46:55.028 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 08:46:55.029 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 08:46:55.041 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 08:46:55.041 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 08:46:55.041 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 08:46:55.150 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 08:46:55.202 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=1.927, Reactive=0.091
2025-06-01 08:46:55.259 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=194.8, Temp=21.619 (Floor 1)
2025-06-01 08:46:58.079 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v1): Light=210.36, Temp=21.53 (Floor 1)
2025-06-01 08:46:58.182 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=3.171, Reactive=0.068
2025-06-01 08:47:02.030 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-06-01 08:47:02.031 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-06-01 08:47:02.031 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=1, power=1, battery=0}
2025-06-01 08:47:02.039 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-06-01 08:47:02.040 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-06-01 08:47:02.040 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-06-01 08:47:02.040 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-06-01 08:47:02.041 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-06-01 08:47:02.042 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 08:50:05.154 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 08:50:05.160 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:50:05.161 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 08:50:05.162 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 08:50:05.917 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 08:50:05.918 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 08:50:05.929 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 08:50:05.933 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 08:50:05.944 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:50:05.945 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 08:50:05.945 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 08:50:05.945 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 08:50:06.040 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 08:50:06.040 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 08:50:06.040 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 08:50:06.040 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 08:50:06.040 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 08:50:06.041 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 08:50:06.041 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 08:50:06.047 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 08:50:06.047 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 08:50:06.047 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 08:50:06.048 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 08:50:06.048 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 08:50:06.048 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 08:50:06.175 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=0.0, Reactive=0.0
2025-06-01 08:50:06.213 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=0.0, Reactive=0.0
2025-06-01 08:50:08.749 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=2.493, Reactive=0.11
2025-06-01 08:50:08.856 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 08:50:13.087 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-06-01 08:50:13.088 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-06-01 08:50:13.088 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=2, battery=0}
2025-06-01 08:50:13.092 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-06-01 08:50:13.092 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-06-01 08:50:13.093 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-06-01 08:50:13.094 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-06-01 08:50:13.094 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-06-01 08:50:13.095 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 08:53:44.617 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 08:53:44.628 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:53:44.628 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 08:53:44.629 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 08:53:45.390 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 08:53:45.390 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 08:53:45.394 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 08:53:45.395 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 08:53:45.401 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:53:45.402 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 08:53:45.402 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 08:53:45.402 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 08:53:45.562 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 08:53:45.563 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 08:53:45.564 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 08:53:45.586 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 08:53:45.589 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 08:53:45.590 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 08:53:45.596 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 08:53:45.597 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 08:53:45.598 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 08:53:45.598 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 08:53:45.605 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 08:53:45.605 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 08:53:45.605 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 08:53:45.682 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 08:53:45.729 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=185.36, Temp=21.548 (Floor 1)
2025-06-01 08:53:45.762 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=2.493, Reactive=0.11
2025-06-01 08:53:50.119 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=1.927, Reactive=0.091
2025-06-01 08:54:00.173 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=3.171, Reactive=0.068
2025-06-01 08:54:10.202 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v3): Active=1.993, Reactive=0.117
2025-06-01 08:54:10.277 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v1): Light=200.28, Temp=21.999 (Floor 1)
2025-06-01 08:54:15.689 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 08:54:15.690 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 08:54:18.575 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
