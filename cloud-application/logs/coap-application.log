2025-06-01 08:45:01.527 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 08:45:01.536 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:45:01.537 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 08:45:01.538 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 08:45:02.320 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 08:45:02.320 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 08:45:02.321 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 08:45:02.322 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 08:45:02.323 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:45:02.324 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 08:45:02.324 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 08:45:02.324 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 08:45:02.451 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 08:45:02.455 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 08:45:02.457 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 08:45:02.457 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 08:45:02.465 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 08:45:02.489 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 08:45:02.489 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 08:45:02.490 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 08:45:02.490 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 08:45:02.490 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 08:45:02.492 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 08:45:02.492 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 08:45:02.492 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 08:45:02.662 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=1.993, Reactive=0.117
2025-06-01 08:45:02.728 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 08:45:02.777 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=1.993, Reactive=0.117
2025-06-01 08:45:05.716 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=168.0, Temp=21.442 (Floor 1)
2025-06-01 08:45:06.106 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=1.788, Reactive=0.12
2025-06-01 08:45:16.013 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v1): Light=184.16, Temp=21.335 (Floor 1)
2025-06-01 08:45:16.077 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v3): Active=4.765, Reactive=0.279
2025-06-01 08:45:26.100 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v4): Active=2.654, Reactive=0.177
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-06-01 08:45:30.589 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-06-01 08:45:30.590 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-06-01 08:45:30.590 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-06-01 08:45:30.590 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=1, power=4, battery=0}
2025-06-01 08:45:30.592 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-06-01 08:45:30.592 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-06-01 08:45:30.593 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-06-01 08:45:30.593 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-06-01 08:45:30.594 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-06-01 08:45:30.599 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 08:46:54.596 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 08:46:54.601 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:46:54.601 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 08:46:54.602 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 08:46:54.965 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 08:46:54.966 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 08:46:54.967 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 08:46:54.967 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 08:46:54.969 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:46:54.969 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 08:46:54.969 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 08:46:54.969 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 08:46:55.025 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 08:46:55.026 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 08:46:55.028 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 08:46:55.029 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 08:46:55.030 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 08:46:55.041 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 08:46:55.041 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 08:46:55.041 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 08:46:55.150 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 08:46:55.202 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=1.927, Reactive=0.091
2025-06-01 08:46:55.259 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=194.8, Temp=21.619 (Floor 1)
2025-06-01 08:46:58.079 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v1): Light=210.36, Temp=21.53 (Floor 1)
2025-06-01 08:46:58.182 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=3.171, Reactive=0.068
2025-06-01 08:47:02.030 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-06-01 08:47:02.031 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-06-01 08:47:02.031 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-06-01 08:47:02.031 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=1, power=1, battery=0}
2025-06-01 08:47:02.039 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-06-01 08:47:02.040 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-06-01 08:47:02.040 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-06-01 08:47:02.040 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-06-01 08:47:02.041 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-06-01 08:47:02.042 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 08:50:05.154 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 08:50:05.160 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:50:05.161 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 08:50:05.162 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 08:50:05.917 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 08:50:05.918 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 08:50:05.929 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 08:50:05.933 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 08:50:05.944 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:50:05.945 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 08:50:05.945 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 08:50:05.945 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 08:50:06.040 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 08:50:06.040 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 08:50:06.040 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 08:50:06.040 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 08:50:06.040 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 08:50:06.041 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 08:50:06.041 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 08:50:06.047 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 08:50:06.047 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 08:50:06.047 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 08:50:06.048 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 08:50:06.048 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 08:50:06.048 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 08:50:06.175 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=0.0, Reactive=0.0
2025-06-01 08:50:06.213 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=0.0, Reactive=0.0
2025-06-01 08:50:08.749 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=2.493, Reactive=0.11
2025-06-01 08:50:08.856 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 08:50:13.087 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-06-01 08:50:13.088 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-06-01 08:50:13.088 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-06-01 08:50:13.088 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=2, battery=0}
2025-06-01 08:50:13.092 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-06-01 08:50:13.092 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-06-01 08:50:13.093 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-06-01 08:50:13.094 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-06-01 08:50:13.094 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-06-01 08:50:13.095 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 08:53:44.617 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 08:53:44.628 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:53:44.628 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 08:53:44.629 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 08:53:45.390 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 08:53:45.390 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 08:53:45.394 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 08:53:45.395 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 08:53:45.401 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 08:53:45.402 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 08:53:45.402 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 08:53:45.402 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 08:53:45.562 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 08:53:45.563 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 08:53:45.564 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 08:53:45.586 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 08:53:45.589 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 08:53:45.590 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 08:53:45.596 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 08:53:45.597 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 08:53:45.598 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 08:53:45.598 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 08:53:45.605 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 08:53:45.605 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 08:53:45.605 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 08:53:45.682 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 08:53:45.729 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=185.36, Temp=21.548 (Floor 1)
2025-06-01 08:53:45.762 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=2.493, Reactive=0.11
2025-06-01 08:53:50.119 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=1.927, Reactive=0.091
2025-06-01 08:54:00.173 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=3.171, Reactive=0.068
2025-06-01 08:54:10.202 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v3): Active=1.993, Reactive=0.117
2025-06-01 08:54:10.277 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v1): Light=200.28, Temp=21.999 (Floor 1)
2025-06-01 08:54:15.689 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 08:54:15.690 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 08:54:18.575 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 19:26:43.960 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 19:26:43.991 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 19:26:43.992 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 19:26:43.995 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 19:26:44.788 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 19:26:44.789 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 19:26:44.793 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 19:26:44.794 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 19:26:44.796 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 19:26:44.796 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 19:26:44.797 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 19:26:44.797 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 19:26:44.936 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 19:26:44.938 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 19:26:44.938 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 19:26:44.938 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 19:26:44.953 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 19:26:44.958 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 19:26:44.959 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 19:26:44.960 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 19:26:44.961 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 19:26:44.961 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 19:26:44.962 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 19:26:44.963 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 19:26:44.963 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 19:26:45.190 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 19:26:45.218 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=2.654, Reactive=0.177
2025-06-01 19:26:46.859 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=2.288, Reactive=0.225
2025-06-01 19:26:53.655 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=240.64, Temp=21.278 (Floor 1)
2025-06-01 19:26:56.842 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=1.969, Reactive=0.22
2025-06-01 19:27:06.855 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v3): Active=1.863, Reactive=0.368
2025-06-01 19:27:15.033 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 19:27:15.035 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=7.95
2025-06-01 19:27:15.052 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":7.95}, Success: true
2025-06-01 19:27:15.411 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 19:34:48.359 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 19:34:48.370 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 19:34:48.371 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 19:34:48.374 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 19:34:49.033 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 19:34:49.034 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 19:34:49.040 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 19:34:49.045 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 19:34:49.048 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 19:34:49.048 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 19:34:49.048 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 19:34:49.048 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 19:34:49.212 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 19:34:49.212 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 19:34:49.213 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 19:34:49.213 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 19:34:49.214 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 19:34:49.214 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 19:34:49.215 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 19:34:49.227 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 19:34:49.228 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 19:34:49.228 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 19:34:49.251 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 19:34:49.251 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 19:34:49.252 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 19:34:58.601 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-06-01 19:34:58.602 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-06-01 19:34:58.602 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-06-01 19:34:58.602 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=-1, power=-1, battery=-1}
2025-06-01 19:34:58.606 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-06-01 19:34:58.606 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-06-01 19:34:58.607 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-06-01 19:34:58.608 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-06-01 19:34:58.608 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-06-01 19:34:58.609 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 19:47:41.535 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 19:47:41.569 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 19:47:41.572 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 19:47:41.575 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 19:47:42.990 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 19:47:42.990 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 19:47:43.001 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 19:47:43.003 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 19:47:43.009 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 19:47:43.009 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 19:47:43.009 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 19:47:43.010 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 19:47:43.232 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 19:47:43.232 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 19:47:43.241 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 19:47:43.241 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 19:47:43.244 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 19:47:43.245 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 19:47:43.246 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 19:47:43.247 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 19:47:43.247 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 19:47:43.247 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 19:47:43.248 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 19:47:43.248 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 19:47:43.254 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 19:47:43.470 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 19:47:43.518 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=2.654, Reactive=0.177
2025-06-01 19:47:43.589 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=278.44, Temp=21.49 (Floor 1)
2025-06-01 19:47:46.554 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=2.288, Reactive=0.225
2025-06-01 19:47:51.584 [main] INFO  com.pi.CoapClientApplication - Shutting down application
2025-06-01 19:47:51.585 [main] INFO  com.pi.CoapClientApplication - Stopping observers
2025-06-01 19:47:51.585 [main] INFO  com.pi.CoapObserverManager - Stopping all observers
2025-06-01 19:47:51.585 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: sensors_floor_1
2025-06-01 19:47:51.586 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: battery_soc
2025-06-01 19:47:51.586 [main] INFO  com.pi.CoapObserverManager - Cancelled observation: power
2025-06-01 19:47:51.586 [main] INFO  com.pi.CoapObserverManager - Shutdown client: sensors_floor_1
2025-06-01 19:47:51.586 [main] INFO  com.pi.CoapObserverManager - Shutdown client: battery_soc
2025-06-01 19:47:51.586 [main] INFO  com.pi.CoapObserverManager - Shutdown client: power
2025-06-01 19:47:51.586 [main] INFO  com.pi.CoapObserverManager - All observers stopped
2025-06-01 19:47:51.586 [main] INFO  com.pi.CoapClientApplication - Closing database connection
2025-06-01 19:47:51.587 [main] INFO  com.pi.DatabaseManager - Starting database shutdown
2025-06-01 19:47:51.587 [main] INFO  com.pi.DatabaseManager - Final version counters: {sensors=0, power=1, battery=0}
2025-06-01 19:47:51.601 [main] INFO  com.pi.DatabaseManager - Database connection closed
2025-06-01 19:47:51.602 [main] INFO  com.pi.CoapClientApplication - Stopping battery control service
2025-06-01 19:47:51.602 [main] INFO  c.p.B.BatteryControlService - Stopped automatic battery control
2025-06-01 19:47:51.604 [main] INFO  com.pi.UserInterface - UserInterface closed
2025-06-01 19:47:51.605 [main] INFO  com.pi.CoapClientApplication - Application shutdown complete
2025-06-01 19:47:51.606 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 22:15:13.621 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 22:15:13.625 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 22:15:13.626 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 22:15:13.627 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 22:15:14.109 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 22:15:14.109 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 22:15:14.116 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 22:15:14.118 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 22:15:14.126 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 22:15:14.128 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 22:15:14.130 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 22:15:14.130 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 22:15:14.220 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 22:15:14.221 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 22:15:14.221 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 22:15:14.221 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 22:15:14.221 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 22:15:14.221 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 22:15:14.221 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 22:15:14.222 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 22:15:14.222 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 22:15:14.222 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 22:15:14.223 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 22:15:14.223 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 22:15:14.223 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 22:15:14.360 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=2.288, Reactive=0.225
2025-06-01 22:15:14.400 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 22:15:14.460 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v0): Light=233.44, Temp=21.872 (Floor 1)
2025-06-01 22:15:18.641 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v1): Light=251.84, Temp=21.938 (Floor 1)
2025-06-01 22:15:18.698 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=1.969, Reactive=0.22
2025-06-01 22:15:28.721 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=1.863, Reactive=0.368
2025-06-01 22:15:38.737 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v2): Light=219.88, Temp=21.953 (Floor 1)
2025-06-01 22:15:38.770 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v3): Active=1.538, Reactive=0.195
2025-06-01 22:15:44.243 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:15:44.244 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=7.98
2025-06-01 22:15:44.250 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":7.98}, Success: true
2025-06-01 22:15:48.733 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v4): Active=1.783, Reactive=0.148
2025-06-01 22:15:48.775 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v1): SOC=0.798
2025-06-01 22:15:58.744 [Thread-1] INFO  com.pi.DatabaseManager - Sensor data stored (v3): Light=231.84, Temp=21.674 (Floor 1)
2025-06-01 22:15:58.769 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v5): Active=2.064, Reactive=0.256
2025-06-01 22:16:03.734 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v2): SOC=1.596
2025-06-01 22:16:08.786 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v6): Active=2.121, Reactive=0.259
2025-06-01 22:16:14.231 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:16:14.231 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:16:14.236 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:16:18.793 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v7): Active=2.414, Reactive=0.102
2025-06-01 22:16:18.810 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v3): SOC=2.596
2025-06-01 22:16:44.256 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:16:44.257 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:17:54.364 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:17:54.393 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:17:54.393 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=7.97
2025-06-01 22:18:22.769 [Thread-1] ERROR com.pi.CoapObserverManager - Floor 1 sensors observation failed or was canceled
2025-06-01 22:18:28.725 [Thread-1] ERROR com.pi.CoapObserverManager - Battery SOC observation failed or was canceled
2025-06-01 22:18:30.445 [Thread-1] ERROR com.pi.CoapObserverManager - Power observation failed or was canceled
2025-06-01 22:19:26.841 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:19:26.848 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:19:26.848 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:20:53.011 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:20:53.039 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:20:53.039 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:22:18.237 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:22:18.247 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:22:18.247 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:22:24.941 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:22:24.947 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:22:24.947 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:22:24.993 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:22:25.001 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:22:25.001 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=6.56
2025-06-01 22:22:25.053 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":6.56}, Success: true
2025-06-01 22:22:25.066 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:22:25.067 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=8.15
2025-06-01 22:22:25.122 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":8.15}, Success: true
2025-06-01 22:22:25.168 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:22:25.173 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=6.88
2025-06-01 22:22:25.182 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":6.88}, Success: true
2025-06-01 22:22:25.205 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:22:25.206 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:22:25.255 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:22:25.272 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:22:25.273 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:22:25.321 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:22:25.330 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:22:25.331 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:22:25.379 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:22:37.262 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
2025-06-01 22:24:09.679 [main] INFO  com.pi.CoapClientApplication - Starting CoAP Client Application initialization
2025-06-01 22:24:09.685 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 22:24:09.685 [main] INFO  com.pi.CoapClientApplication - Connecting to database...
2025-06-01 22:24:09.688 [main] INFO  com.pi.DatabaseManager - Initializing database connection
2025-06-01 22:24:10.394 [main] INFO  com.pi.DatabaseManager - Database connection established successfully
2025-06-01 22:24:10.394 [main] INFO  com.pi.DatabaseManager - Version counters initialized: {sensors=-1, power=-1, battery=-1}
2025-06-01 22:24:10.395 [main] INFO  com.pi.CoapClientApplication - Initializing CoAP components...
2025-06-01 22:24:10.395 [main] INFO  com.pi.CoapObserverManager - CoapObserverManager initialized
2025-06-01 22:24:10.397 [main] INFO  com.pi.UserInterface - UserInterface initialized
2025-06-01 22:24:10.397 [main] INFO  com.pi.CoapClientApplication - Starting observers...
2025-06-01 22:24:10.397 [main] INFO  com.pi.CoapObserverManager - Starting all observers
2025-06-01 22:24:10.397 [main] INFO  com.pi.CoapObserverManager - Starting battery SOC observer
2025-06-01 22:24:10.518 [main] INFO  com.pi.CoapObserverManager - Battery SOC observer started
2025-06-01 22:24:10.518 [main] INFO  com.pi.CoapObserverManager - Starting sensor observers for all floors
2025-06-01 22:24:10.519 [main] WARN  com.pi.CoapObserverManager - No sensor IP found for floor 0
2025-06-01 22:24:10.519 [main] INFO  com.pi.CoapObserverManager - Starting sensor observer for floor 1 at coap://[fd00::202:2:2:2]:5683/SENSORS/reading
2025-06-01 22:24:10.520 [main] INFO  com.pi.CoapObserverManager - Sensor observer started for floor 1
2025-06-01 22:24:10.520 [main] INFO  com.pi.CoapObserverManager - Started sensor observers for 2 floors
2025-06-01 22:24:10.520 [main] INFO  com.pi.CoapObserverManager - Starting power observer
2025-06-01 22:24:10.520 [main] INFO  com.pi.CoapObserverManager - Power observer started
2025-06-01 22:24:10.520 [main] INFO  com.pi.CoapObserverManager - All observers started successfully. Active count: 3
2025-06-01 22:24:10.520 [main] INFO  com.pi.CoapClientApplication - Starting automatic battery control...
2025-06-01 22:24:10.521 [main] INFO  c.p.B.BatteryControlService - Started automatic battery control with 30s interval
2025-06-01 22:24:10.521 [main] INFO  com.pi.CoapClientApplication - Initialization complete!
2025-06-01 22:24:10.521 [main] INFO  com.pi.CoapClientApplication - Starting main application loop
2025-06-01 22:24:10.609 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v0): SOC=0.0
2025-06-01 22:24:10.648 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v0): Active=2.493, Reactive=0.11
2025-06-01 22:24:10.755 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v1): Active=1.927, Reactive=0.091
2025-06-01 22:24:40.567 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:24:40.568 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:25:29.388 [Thread-1] ERROR com.pi.CoapObserverManager - Floor 1 sensors observation failed or was canceled
2025-06-01 22:25:53.246 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:25:53.274 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:25:53.275 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:25:53.278 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 4.00, Text: {"error_code":"BATTERY_EMPTY","message":"cannot set negative se, Success: false
2025-06-01 22:25:53.285 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:25:53.289 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=8.38
2025-06-01 22:25:53.341 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":8.38}, Success: true
2025-06-01 22:26:01.460 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v2): Active=3.171, Reactive=0.068
2025-06-01 22:26:01.512 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v1): SOC=0.838
2025-06-01 22:26:10.533 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:26:10.534 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:26:10.537 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:26:11.380 [Thread-1] INFO  com.pi.DatabaseManager - Power data stored (v3): Active=1.993, Reactive=0.117
2025-06-01 22:26:16.403 [Thread-1] INFO  com.pi.DatabaseManager - Battery data stored (v2): SOC=1.838
2025-06-01 22:26:40.530 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:26:40.531 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:28:11.583 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:28:11.609 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:28:11.610 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:28:30.644 [Thread-1] ERROR com.pi.CoapObserverManager - Battery SOC observation failed or was canceled
2025-06-01 22:29:34.362 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:29:34.385 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:29:34.386 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:29:34.396 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:29:34.405 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:29:34.405 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:29:34.462 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 4.00, Text: {"error_code":"BATTERY_EMPTY","message":"cannot set negative se, Success: false
2025-06-01 22:29:34.492 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:29:34.493 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=8.49
2025-06-01 22:29:34.503 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":8.49}, Success: true
2025-06-01 22:29:34.517 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:29:34.518 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:29:34.573 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:29:40.530 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:29:40.531 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:30:03.771 [Thread-1] ERROR com.pi.CoapObserverManager - Power observation failed or was canceled
2025-06-01 22:31:11.616 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:31:11.629 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:31:11.630 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:31:26.456 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 4.00, Text: {"error_code":"BATTERY_EMPTY","message":"cannot set negative se, Success: false
2025-06-01 22:31:26.469 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:31:26.470 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:31:26.527 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 4.00, Text: {"error_code":"BATTERY_EMPTY","message":"cannot set negative se, Success: false
2025-06-01 22:31:26.537 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:31:26.538 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=7.13
2025-06-01 22:31:26.589 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":7.13}, Success: true
2025-06-01 22:31:40.529 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:31:40.529 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:33:05.237 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:33:05.246 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:33:05.246 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=8.66
2025-06-01 22:34:33.540 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:34:33.548 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:34:33.549 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=8.79
2025-06-01 22:34:33.553 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":8.79}, Success: true
2025-06-01 22:34:33.574 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:34:33.575 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:34:33.631 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 4.00, Text: {"error_code":"BATTERY_EMPTY","message":"cannot set negative se, Success: false
2025-06-01 22:34:33.639 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:34:33.641 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=8.07
2025-06-01 22:34:33.697 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":8.07}, Success: true
2025-06-01 22:34:33.715 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:34:33.716 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:34:33.770 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:34:40.528 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:34:40.529 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:34:40.533 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 4.00, Text: {"error_code":"BATTERY_EMPTY","message":"cannot set negative se, Success: false
2025-06-01 22:35:10.536 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:35:10.539 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=6.48
2025-06-01 22:35:10.546 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":6.48}, Success: true
2025-06-01 22:35:40.529 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:35:40.529 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:35:40.531 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":-1.00}, Success: true
2025-06-01 22:36:10.527 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:36:10.528 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=8.97
2025-06-01 22:37:27.385 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:37:27.399 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:37:27.399 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=6.02
2025-06-01 22:38:55.357 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:38:55.387 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:38:55.390 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:39:27.129 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:39:27.137 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:39:27.137 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:40:32.341 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:40:32.349 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:40:32.350 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:40:32.359 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 4.00, Text: {"error_code":"BATTERY_EMPTY","message":"cannot set negative se, Success: false
2025-06-01 22:40:32.373 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:40:32.373 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:40:32.429 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:40:32.435 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:40:32.436 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=7.45
2025-06-01 22:40:32.486 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":7.45}, Success: true
2025-06-01 22:40:32.491 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:40:32.492 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:40:32.541 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 4.00, Text: {"error_code":"BATTERY_EMPTY","message":"cannot set negative se, Success: false
2025-06-01 22:40:32.550 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:40:32.551 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=10.00
2025-06-01 22:40:32.602 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":10.00}, Success: true
2025-06-01 22:40:40.529 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:40:40.529 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:40:40.533 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Battery (Floor 0) Command Response - Code: 2.04, Text: {"setpoint":-1.00}, Success: true
2025-06-01 22:41:10.529 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:41:10.531 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=-1.00
2025-06-01 22:42:41.090 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:42:41.096 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:42:41.097 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=6.12
2025-06-01 22:44:10.542 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:44:10.551 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:44:10.552 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=6.34
2025-06-01 22:45:38.476 [pool-1-thread-1] WARN  com.pi.CoapRequestManager - No response received from Battery (Floor 0) device
2025-06-01 22:45:38.482 [pool-1-thread-1] INFO  c.p.B.BatteryControlAlgorithm - Battery setpoint: Price={:.2f}¢/kWh, Current={:.2f}W, Predicted={:.2f}W, SOC={:.1f}%, Setpoint={:.2f}
2025-06-01 22:45:38.482 [pool-1-thread-1] INFO  com.pi.CoapRequestManager - Sending Battery command to floor 0: setpoint=7.51
2025-06-01 22:46:00.245 [Thread-0] INFO  com.pi.CoapClientApplication - Received shutdown signal
